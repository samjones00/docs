import{_ as s,c as n,o as a,a as e}from"./app.da189b1e.js";const y='{"title":"OrmLite Async API","description":"","frontmatter":{"title":"OrmLite Async API"},"headers":[{"level":2,"title":"Async RDBMS Providers","slug":"async-rdbms-providers"}],"relativePath":"ormlite/async-apis.md","lastUpdated":1651683703531}',t={},o=e(`__VP_STATIC_START__<p>A quick overview of Async API&#39;s can be seen in the class diagram below:</p><p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/ormlite/OrmLiteApiAsync.png" alt="OrmLite Async APIs"></p><p>Essentially most of OrmLite public API&#39;s now have async equivalents of the same name and an additional conventional <code>*Async</code> suffix. The Async API&#39;s also take an optional <code>CancellationToken</code> making converting sync code trivial, where you just need to add the <code>Async</code> suffix and <strong>await</strong> keyword, as can be seen in the <a href="https://github.com/ServiceStack/ServiceStack.OrmLite/commit/c1ce6f0eac99133fc232b263c26c42379d4c5f48" target="_blank" rel="noopener noreferrer">Customer Orders UseCase upgrade to Async diff</a> , e.g:</p><p>Sync:</p><div class="language-csharp"><pre><code>db<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Employee</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Name <span class="token operator">=</span> <span class="token string">&quot;Employee 1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">Save</span><span class="token punctuation">(</span>product1<span class="token punctuation">,</span> product2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> customer <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Single</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Customer<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token punctuation">{</span> customer<span class="token punctuation">.</span>Email <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p>Async:</p><div class="language-csharp"><pre><code><span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">InsertAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Employee</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Name <span class="token operator">=</span> <span class="token string">&quot;Employee 1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">SaveAsync</span><span class="token punctuation">(</span>product1<span class="token punctuation">,</span> product2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> customer <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">SingleAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Customer<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token punctuation">{</span> customer<span class="token punctuation">.</span>Email <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Effectively the only Data Access API&#39;s that doesn&#39;t have async equivalents are <code>*Lazy</code> APIs yielding a lazy sequence (incompatible with async) as well as <strong>Schema</strong> DDL API&#39;s which are typically not used at runtime.</p></div><p>For a quick preview of many of the new Async API&#39;s in action, checkout <a href="https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/Async/ApiSqlServerTestsAsync.cs" target="_blank" rel="noopener noreferrer">ApiSqlServerTestsAsync.cs</a>.</p><h2 id="async-rdbms-providers" tabindex="-1">Async RDBMS Providers <a class="header-anchor" href="#async-rdbms-providers" aria-hidden="true">#</a></h2><p>Currently, only a limited number of RDBMS providers offer async API&#39;s, which at this time are only:</p><ul><li><a href="https://www.nuget.org/packages/ServiceStack.OrmLite.SqlServer" target="_blank" rel="noopener noreferrer">SQL Server .NET 4.7.2+</a></li><li><a href="https://www.nuget.org/packages/ServiceStack.OrmLite.PostgreSQL" target="_blank" rel="noopener noreferrer">PostgreSQL .NET 4.7.2+</a></li><li><a href="https://www.nuget.org/packages/ServiceStack.OrmLite.MySql" target="_blank" rel="noopener noreferrer">MySQL .NET 4.7.2+</a></li></ul><p>We&#39;ve also added a <a href="https://www.nuget.org/packages/ServiceStack.OrmLite.Sqlite" target="_blank" rel="noopener noreferrer">.NET 4.7.2 build for Sqlite</a> as it&#39;s a common use-case to swapout to use Sqlite&#39;s in-memory provider for faster tests. But as Sqlite doesn&#39;t provide async API&#39;s under-the-hood we fallback to <em>pseudo async</em> support where we just wrap its synchronous responses in <code>Task</code> results.</p>__VP_STATIC_END__`,13),c=[o];function p(r,i,l,u,k,d){return a(),n("div",null,c)}var h=s(t,[["render",p]]);export{y as __pageData,h as default};
